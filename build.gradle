buildscript {
  ext {
    kotlinVersion = '1.1.2-2'
    springBootVersion = '2.0.0.M1'
  }

  repositories {
    mavenCentral()
    jcenter()
    maven { url 'http://repo.spring.io/milestone' }
  }

  dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
    classpath "org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion"
  }
}

group 'sk.bsmk'
version '1.0-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'kotlin'
apply plugin: 'org.springframework.boot'
apply plugin: 'io.spring.dependency-management'

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
  mavenCentral()
  jcenter()
  maven { url "http://repo.spring.io/milestone" }
}

dependencies {

  compile "org.jetbrains.kotlin:kotlin-stdlib-jre8"
  compile "org.jetbrains.kotlin:kotlin-reflect"
//  compile "com.fasterxml.jackson.module:jackson-module-kotlin:2.9.0.pr3"
  compile "org.springframework.boot:spring-boot-starter-batch"
//  compile "org.springframework.boot:spring-boot-starter-integration"
  compile "org.springframework.boot:spring-boot-starter-webflux"
//  compile "org.springframework.batch:spring-batch-integration"
//  compile "org.quartz-scheduler:quartz:2.3.0"
//  compile "org.quartz-scheduler:quartz-jobs:2.3.0"
  // batch starter brings spring-jdbc dependency
  compile "org.hsqldb:hsqldb"

  testCompile "org.jetbrains.kotlin:kotlin-test-junit"
  testCompile "org.springframework.boot:spring-boot-starter-test"
}

compileKotlin {
  kotlinOptions {
    jvmTarget = '1.8'
  }
}

task wrapper(type: Wrapper) {
  gradleVersion = '3.5'
}
